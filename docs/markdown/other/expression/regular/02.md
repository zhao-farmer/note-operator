
# ç¼–ç¨‹è¯­è¨€ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼

## ä¸€ã€æ­£åˆ™è¡¨è¾¾å¼å¼•æ“å¯¹æ¯”

| è¯­è¨€  | å¼•æ“ç±»å‹ | ç‰¹ç‚¹  | è¯­æ³•é£æ ¼ |
| --- | --- | --- | --- |
| Perl | PCRE | åŠŸèƒ½æœ€å…¨ï¼Œé»„é‡‘æ ‡å‡† | `/pattern/modifiers` |
| Python | re (PCRE) | åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå‘½ååˆ†ç»„ | `re.compile(r'pattern')` |
| JavaScript | ECMAScript | åŸºç¡€åŠŸèƒ½ï¼ŒES6å¢å¼º | `/pattern/modifiers` |
| Java | java.util.regex | å®Œæ•´PCREå­é›† | `Pattern.compile("pattern")` |
| PHP | PCRE | ä¸Perlé«˜åº¦å…¼å®¹ | `preg_` å‡½æ•°æ— |
| C#  | .NET Regex | å¼ºå¤§ï¼Œæ”¯æŒå¹³è¡¡ç»„ | `new Regex("pattern")` |
| Ruby | Oniguruma | åŠŸèƒ½ä¸°å¯Œ | `/pattern/modifiers` æˆ– `%r{pattern}` |
| Go  | RE2 | çº¿æ€§æ—¶é—´ï¼Œå®‰å…¨ | `regexp.MustCompile(`pattern`)` |
| Rust | regex | å¤šç§å¼•æ“å¯é€‰ | `Regex::new(r"pattern")` |

## äºŒã€Python æ­£åˆ™è¡¨è¾¾å¼

### åŸºç¡€ç”¨æ³•


```python
import re

# 1. ç¼–è¯‘æ¨¡å¼ï¼ˆæ¨èé‡å¤ä½¿ç”¨ï¼‰
pattern = re.compile(r'\d{3}-\d{4}')
result = pattern.search('ç”µè¯: 123-4567')

# 2. ç›´æ¥ä½¿ç”¨
result = re.search(r'\d{3}-\d{4}', 'ç”µè¯: 123-4567')

# 3. å¸¸ç”¨æ–¹æ³•
text = "abc123def456"

# æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…
match = re.search(r'\d+', text)        # match.group() = "123"

# æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…
numbers = re.findall(r'\d+', text)     # ['123', '456']

# æ›¿æ¢
new_text = re.sub(r'\d+', 'NUM', text) # "abcNUMdefNUM"

# åˆ†å‰²
parts = re.split(r'\d+', text)         # ['abc', 'def', '']
```

### é«˜çº§ç‰¹æ€§

```python
# 1. å‘½ååˆ†ç»„
pattern = re.compile(r'(?P<area>\d{3})-(?P<num>\d{4})')
match = pattern.search('123-4567')
print(match.group('area'))  # '123'
print(match.groupdict())    # {'area': '123', 'num': '4567'}

# 2. éè´ªå©ªåŒ¹é…
html = '<div>content1</div><div>content2</div>'
# è´ªå©ª
re.findall(r'<div>.*</div>', html)    # åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²
# éè´ªå©ª
re.findall(r'<div>.*?</div>', html)   # ['<div>content1</div>', '<div>content2</div>']

# 3. å¤šè¡Œæ¨¡å¼
text = """ç¬¬ä¸€è¡Œ
ç¬¬äºŒè¡Œ
ç¬¬ä¸‰è¡Œ"""
re.findall(r'^.*$', text, re.MULTILINE)  # ['ç¬¬ä¸€è¡Œ', 'ç¬¬äºŒè¡Œ', 'ç¬¬ä¸‰è¡Œ']

# 4. å¿½ç•¥å¤§å°å†™
re.findall(r'hello', 'Hello WORLD', re.IGNORECASE)  # ['Hello']

# 5. è¯¦ç»†æ¨¡å¼ï¼ˆå¯æ·»åŠ æ³¨é‡Šï¼‰
pattern = re.compile(r'''
    \b          # å•è¯è¾¹ç•Œ
    \w{3,}      # è‡³å°‘3ä¸ªå•è¯å­—ç¬¦
    \b          # å•è¯è¾¹ç•Œ
''', re.VERBOSE | re.IGNORECASE)

# 6. å‰åæŸ¥æ‰¾ï¼ˆç¯è§†ï¼‰
# åŒ¹é…åé¢æ˜¯pxçš„æ•°å­—
re.findall(r'\d+(?=px)', '10px 20pt')        # ['10']
# åŒ¹é…å‰é¢æ˜¯$çš„æ•°å­—
re.findall(r'(?<=\$)\d+', 'ä»·æ ¼$100')        # ['100']
```

### Pythonç‰¹æœ‰åŠŸèƒ½

```python
# 1. åŒ¹é…å¯¹è±¡æ–¹æ³•
match = re.search(r'(\d{3})-(\d{4})', 'ç”µè¯: 123-4567')
if match:
    print(match.group())      # '123-4567' - æ•´ä¸ªåŒ¹é…
    print(match.group(1))     # '123'     - ç¬¬ä¸€ä¸ªåˆ†ç»„
    print(match.group(2))     # '4567'    - ç¬¬äºŒä¸ªåˆ†ç»„
    print(match.groups())     # ('123', '4567')
    print(match.start())      # 3 - å¼€å§‹ä½ç½®
    print(match.end())        # 11 - ç»“æŸä½ç½®
    print(match.span())       # (3, 11) - (å¼€å§‹, ç»“æŸ)

# 2. æ›¿æ¢å‡½æ•°
def repl_func(match):
    return str(int(match.group()) * 2)

re.sub(r'\d+', repl_func, '123 abc 456')  # '246 abc 912'

# 3. ç¼–è¯‘æ ‡å¿—å¸¸é‡
re.A    # ASCII-only åŒ¹é… \w, \b ç­‰
re.I    # å¿½ç•¥å¤§å°å†™
re.M    # å¤šè¡Œæ¨¡å¼
re.S    # . åŒ¹é…åŒ…æ‹¬æ¢è¡Œç¬¦çš„æ‰€æœ‰å­—ç¬¦
re.X    # è¯¦ç»†æ¨¡å¼ï¼ˆå…è®¸ç©ºæ ¼å’Œæ³¨é‡Šï¼‰
re.L    # æœ¬åœ°åŒ–è¯†åˆ«ï¼ˆä¸æ¨èï¼‰
```

## ä¸‰ã€JavaScript æ­£åˆ™è¡¨è¾¾å¼

### ES5åŸºç¡€

```javascript
// 1. å­—é¢é‡åˆ›å»º
const regex1 = /\d{3}-\d{4}/;

// 2. æ„é€ å‡½æ•°åˆ›å»º
const regex2 = new RegExp('\\d{3}-\\d{4}');

// 3. å¸¸ç”¨æ–¹æ³•
const text = "abc123def456";

// æµ‹è¯•æ˜¯å¦åŒ¹é…
regex1.test(text);           // false
/\d+/.test(text);            // true

// æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…
text.match(/\d+/);           // ["123", index: 3, ...]

// æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…ï¼ˆéœ€è¦gæ ‡å¿—ï¼‰
text.match(/\d+/g);          // ["123", "456"]

// æ›¿æ¢
text.replace(/\d+/, 'NUM');  // "abcNUMdef456"
text.replace(/\d+/g, 'NUM'); // "abcNUMdefNUM"

// æœç´¢ä½ç½®
text.search(/\d+/);          // 3

// åˆ†å‰²
text.split(/\d+/);           // ["abc", "def", ""]
```

### ES6+ å¢å¼ºåŠŸèƒ½

```javascript
// 1. Unicodeæ”¯æŒ
/^\p{Script=Han}+$/u.test("ä¸­æ–‡");    // true
/^\p{Emoji}+$/u.test("ğŸ˜€ğŸ‘");          // true

// 2. å‘½åæ•è·ç»„ï¼ˆES2018ï¼‰
const regex = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/;
const match = regex.exec('2023-12-01');
console.log(match.groups.year);   // "2023"

// 3. åè¡Œæ–­è¨€ï¼ˆES2018ï¼‰
/(?<=\$)\d+/.exec('ä»·æ ¼$100');    // ["100"]
/(?<!\$)\d+/.exec('ä»·æ ¼Â¥100');    // ["100"]

// 4. dotAllæ¨¡å¼ï¼ˆsæ ‡å¿—ï¼‰
/hello.world/s.test("hello\nworld");  // true

// 5. åŒ¹é…æ‰€æœ‰è¿­ä»£å™¨
const text = "a1 b2 c3";
const regex = /\w(\d)/g;
for (const match of text.matchAll(regex)) {
    console.log(match[1]);  // "1", "2", "3"
}

// 6. ç²˜æ€§åŒ¹é…ï¼ˆyæ ‡å¿—ï¼‰
const regex = /a/y;
regex.lastIndex = 1;
regex.test("aba");  // trueï¼ˆä»ä½ç½®1å¼€å§‹åŒ¹é…ï¼‰
```

### JavaScriptç‰¹æœ‰è¡Œä¸º


```javascript
// 1. lastIndexå±æ€§ï¼ˆå¯¹gå’Œyæ ‡å¿—æœ‰æ•ˆï¼‰
const regex = /a/g;
regex.test("abc");     // true, lastIndex = 1
regex.test("abc");     // false, lastIndex = 0
regex.lastIndex = 0;   // é‡ç½®

// 2. å­—ç¬¦ä¸²æ–¹æ³•çš„æ­£åˆ™ä½¿ç”¨
"abc123".replace(/(\d+)/, (match, p1) => {
    return Number(p1) * 2;
});  // "abc246"

// 3. ç‰¹æ®Šè½¬ä¹‰
/^\/home\/user/.test("/home/user");  // true
new RegExp("^\\\\path").test("\\path"); // trueï¼ˆåŒé‡è½¬ä¹‰ï¼‰

// 4. æ ‡å¿—å±æ€§
const regex = /abc/gi;
console.log(regex.flags);   // "gi"
console.log(regex.global);  // true
console.log(regex.ignoreCase);  // true
```

## å››ã€Java æ­£åˆ™è¡¨è¾¾å¼

### åŸºç¡€ä½¿ç”¨

```java
import java.util.regex.Pattern;
import java.util.regex.Matcher;

// 1. ç¼–è¯‘æ¨¡å¼
Pattern pattern = Pattern.compile("\\d{3}-\\d{4}");

// 2. åˆ›å»ºMatcher
Matcher matcher = pattern.matcher("ç”µè¯: 123-4567");

// 3. åŒ¹é…æ–¹æ³•
boolean found = matcher.find();  // æŸ¥æ‰¾ä¸‹ä¸€ä¸ªåŒ¹é…
boolean matches = matcher.matches();  // æ•´ä¸ªå­—ç¬¦ä¸²åŒ¹é…
boolean lookingAt = matcher.lookingAt();  // ä»å¼€å¤´åŒ¹é…

// 4. åˆ†ç»„è·å–
if (matcher.find()) {
    String fullMatch = matcher.group();    // "123-4567"
    String group1 = matcher.group(1);      // å¦‚æœæœ‰åˆ†ç»„
}

// 5. æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…
while (matcher.find()) {
    System.out.println(matcher.group());
}

// 6. é‡ç½®Matcher
matcher.reset("æ–°æ–‡æœ¬");
```

### å®Œæ•´ç¤ºä¾‹

```java
import java.util.regex.*;
import java.util.List;
import java.util.ArrayList;

public class RegexExample {
    public static void main(String[] args) {
        // 1. åŸºæœ¬åŒ¹é…
        String text = "John: 30, Alice: 25, Bob: 35";
        Pattern pattern = Pattern.compile("(\\w+):\\s*(\\d+)");
        Matcher matcher = pattern.matcher(text);
        
        List<Person> people = new ArrayList<>();
        while (matcher.find()) {
            String name = matcher.group(1);
            int age = Integer.parseInt(matcher.group(2));
            people.add(new Person(name, age));
        }
        
        // 2. æ›¿æ¢
        String replaced = text.replaceAll("(\\d+)", "#$1#");
        // "John: #30#, Alice: #25#, Bob: #35#"
        
        // 3. åˆ†å‰²
        String[] parts = text.split(",\\s*");
        
        // 4. å‘½ååˆ†ç»„ï¼ˆJava 7+ï¼‰
        Pattern namedPattern = Pattern.compile(
            "(?<name>\\w+):\\s*(?<age>\\d+)"
        );
        Matcher namedMatcher = namedPattern.matcher(text);
        while (namedMatcher.find()) {
            String name = namedMatcher.group("name");
            String age = namedMatcher.group("age");
        }
    }
    
    static class Person {
        String name;
        int age;
        Person(String name, int age) {
            this.name = name;
            this.age = age;
        }
    }
}
```

### Javaç‰¹æœ‰åŠŸèƒ½

```java
// 1. æ¨¡å¼æ ‡å¿—
Pattern.CASE_INSENSITIVE    // å¿½ç•¥å¤§å°å†™
Pattern.MULTILINE           // å¤šè¡Œæ¨¡å¼
Pattern.DOTALL              // .åŒ¹é…åŒ…æ‹¬æ¢è¡Œç¬¦
Pattern.UNICODE_CASE        // Unicodeæ„ŸçŸ¥çš„å¤§å°å†™æŠ˜å 
Pattern.COMMENTS            // å…è®¸æ¨¡å¼ä¸­çš„ç©ºç™½å’Œæ³¨é‡Š

// ä½¿ç”¨ç¤ºä¾‹
Pattern pattern = Pattern.compile("^a.*z$", 
    Pattern.CASE_INSENSITIVE | Pattern.DOTALL);

// 2. åŒºåŸŸè¾¹ç•ŒåŒ¹é…
Pattern.compile("\\bword\\b");  // å•è¯è¾¹ç•Œ

// 3. å¼•ç”¨çš„æ›¿æ¢
String input = "Hello <name>";
String replaced = input.replaceAll("<name>", "World");
// æˆ–è€…
String replaced2 = input.replaceFirst("<name>", "World");

// 4. å­—ç¬¦ä¸²tokenizeræ›¿ä»£
String text = "a,b,c";
String[] parts = text.split(",");  // ç®€å•çš„åˆ†å‰²
```

## äº”ã€PHP æ­£åˆ™è¡¨è¾¾å¼

### PCREå‡½æ•°


```php
<?php
// 1. åŸºæœ¬åŒ¹é…
$text = "ç”µè¯: 123-4567";

// preg_match - åŒ¹é…ä¸€æ¬¡
if (preg_match('/\d{3}-\d{4}/', $text, $matches)) {
    echo "æ‰¾åˆ°: " . $matches[0];
}

// preg_match_all - åŒ¹é…æ‰€æœ‰
preg_match_all('/\d+/', 'abc123def456', $matches);
// $matches[0] = ['123', '456']

// 2. æ›¿æ¢
$new_text = preg_replace('/\d+/', 'NUM', 'abc123def456');
// "abcNUMdefNUM"

// 3. åˆ†å‰²
$parts = preg_split('/\s*,\s*/', 'a, b, c');
// ['a', 'b', 'c']

// 4. è¿‡æ»¤
$filtered = preg_filter('/\d+/', '', 'abc123def456');
// "abcdef"

// 5. è½¬ä¹‰
$escaped = preg_quote('^$.*+?()[]{}|\-');
// '\^\$\.\*\+\?\(\)\[\]\{\}\|\\-'
?>
```

### é«˜çº§ç‰¹æ€§


```php
<?php
// 1. å‘½ååˆ†ç»„
preg_match('/(?P<area>\d{3})-(?P<num>\d{4})/', '123-4567', $matches);
echo $matches['area'];  // '123'
echo $matches['num'];   // '4567'

// 2. å›è°ƒæ›¿æ¢
$text = "a=1, b=2, c=3";
$result = preg_replace_callback(
    '/(\w+)=(\d+)/',
    function($match) {
        return $match[1] . '=' . ($match[2] * 2);
    },
    $text
);
// "a=2, b=4, c=6"

// 3. åç§»é‡æ•è·
preg_match('/\d+/', 'abc123def', $matches, PREG_OFFSET_CAPTURE);
// $matches[0][0] = '123', $matches[0][1] = 3

// 4. é”™è¯¯å¤„ç†
$pattern = '/invalid (pattern/';
if (preg_match($pattern, $text) === false) {
    $error = preg_last_error();
    switch ($error) {
        case PREG_NO_ERROR: break;
        case PREG_INTERNAL_ERROR: echo "å†…éƒ¨é”™è¯¯"; break;
        case PREG_BACKTRACK_LIMIT_ERROR: echo "å›æº¯é™åˆ¶"; break;
        case PREG_RECURSION_LIMIT_ERROR: echo "é€’å½’é™åˆ¶"; break;
        case PREG_BAD_UTF8_ERROR: echo "UTF8é”™è¯¯"; break;
        case PREG_BAD_UTF8_OFFSET_ERROR: echo "UTF8åç§»é”™è¯¯"; break;
        case PREG_JIT_STACKLIMIT_ERROR: echo "JITå †æ ˆé™åˆ¶"; break;
    }
}

// 5. æ¨¡å¼ä¿®é¥°ç¬¦
$pattern = '/^abc/m';  // å¤šè¡Œæ¨¡å¼
$pattern = '/^abc/i';  // å¿½ç•¥å¤§å°å†™
$pattern = '/^abc/s';  // å•è¡Œæ¨¡å¼ï¼ˆ.åŒ¹é…æ¢è¡Œï¼‰
$pattern = '/^abc/x';  // å¿½ç•¥ç©ºç™½å’Œæ³¨é‡Š
$pattern = '/^abc/u';  // UTF-8æ¨¡å¼
$pattern = '/^abc/A';  // ä»…ä»å­—ç¬¦ä¸²å¼€å§‹åŒ¹é…
?>
```

## å…­ã€C# (.NET) æ­£åˆ™è¡¨è¾¾å¼

### åŸºç¡€ä½¿ç”¨


```csharp
using System.Text.RegularExpressions;

// 1. é™æ€æ–¹æ³•
bool isMatch = Regex.IsMatch("123-4567", @"\d{3}-\d{4}");
Match match = Regex.Match("ç”µè¯: 123-4567", @"\d{3}-\d{4}");
MatchCollection matches = Regex.Matches("123-4567 890-1234", @"\d{3}-\d{4}");
string replaced = Regex.Replace("abc123def", @"\d+", "NUM");
string[] parts = Regex.Split("a,b,c", @",\s*");

// 2. å®ä¾‹æ–¹æ³•ï¼ˆæ¨èé‡å¤ä½¿ç”¨ï¼‰
Regex regex = new Regex(@"\d{3}-\d{4}");
isMatch = regex.IsMatch("123-4567");
match = regex.Match("ç”µè¯: 123-4567");
```

### é«˜çº§ç‰¹æ€§


```csharp
using System.Text.RegularExpressions;

// 1. ç¼–è¯‘é€‰é¡¹
RegexOptions options = RegexOptions.IgnoreCase 
                     | RegexOptions.Multiline 
                     | RegexOptions.Compiled;  // ç¼–è¯‘ä¸ºILï¼Œæé«˜æ€§èƒ½
Regex regex = new Regex(@"pattern", options);

// 2. è¶…æ—¶è®¾ç½®ï¼ˆé˜²æ­¢ReDoSæ”»å‡»ï¼‰
Regex regex = new Regex(@"complex(pattern)+", 
    RegexOptions.None, 
    TimeSpan.FromSeconds(1));  // 1ç§’è¶…æ—¶

// 3. å‘½ååˆ†ç»„
Regex regex = new Regex(@"(?<area>\d{3})-(?<num>\d{4})");
Match match = regex.Match("123-4567");
string area = match.Groups["area"].Value;  // "123"
string num = match.Groups["num"].Value;    // "4567"

// 4. å¹³è¡¡ç»„ï¼ˆ.NETç‰¹æœ‰ï¼Œç”¨äºåŒ¹é…åµŒå¥—ç»“æ„ï¼‰
string pattern = @"
    (?>                # åŸå­åˆ†ç»„
        [^()]+         # éæ‹¬å·å†…å®¹
    |
        \(             # å¼€æ‹¬å·
            (?<Depth>) # å‹æ ˆ
    |
        \)             # é—­æ‹¬å·
            (?<-Depth>) # å¼¹æ ˆ
    )*
    (?(Depth)(?!))     # æ·±åº¦æ£€æŸ¥
";
Regex nestedRegex = new Regex(pattern, RegexOptions.IgnorePatternWhitespace);

// 5. æ¡ä»¶åˆ¤æ–­
string conditionalPattern = @"(?(?=regex)then|else)";
```

### å®Œæ•´ç¤ºä¾‹


```csharp
using System;
using System.Text.RegularExpressions;
using System.Collections.Generic;

class RegexExample
{
    static void Main()
    {
        // æå–æ—¥å¿—ä¿¡æ¯
        string log = @"2023-12-01 10:30:15 INFO User login
                       2023-12-01 10:31:20 ERROR Database connection failed";
        
        string pattern = @"(?<date>\d{4}-\d{2}-\d{2})\s+
                           (?<time>\d{2}:\d{2}:\d{2})\s+
                           (?<level>\w+)\s+
                           (?<message>.*)";
        
        Regex regex = new Regex(pattern, RegexOptions.IgnorePatternWhitespace);
        
        foreach (Match match in regex.Matches(log))
        {
            Console.WriteLine($"æ—¶é—´: {match.Groups["date"].Value} {match.Groups["time"].Value}");
            Console.WriteLine($"çº§åˆ«: {match.Groups["level"].Value}");
            Console.WriteLine($"æ¶ˆæ¯: {match.Groups["message"].Value}");
            Console.WriteLine();
        }
        
        // æ›¿æ¢ç¤ºä¾‹
        string html = "<div>Price: $100</div><div>Total: $200</div>";
        string replaced = Regex.Replace(html, @"\$(\d+)", 
            m => $"Â¥{int.Parse(m.Groups[1].Value) * 7}");
        // "<div>Price: Â¥700</div><div>Total: Â¥1400</div>"
    }
}
```

## ä¸ƒã€Go æ­£åˆ™è¡¨è¾¾å¼

### ä½¿ç”¨RE2å¼•æ“


```go
package main

import (
    "fmt"
    "regexp"
)

func main() {
    // 1. ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ï¼ˆæ¨èé¢„ç¼–è¯‘ï¼‰
    re := regexp.MustCompile(`\d{3}-\d{4}`)
    
    // 2. æ£€æŸ¥æ˜¯å¦åŒ¹é…
    matched := re.MatchString("ç”µè¯: 123-4567")
    fmt.Println(matched)  // true
    
    // 3. æŸ¥æ‰¾åŒ¹é…
    str := re.FindString("ç”µè¯: 123-4567")
    fmt.Println(str)  // "123-4567"
    
    // 4. æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…
    all := re.FindAllString("123-4567 890-1234", -1)
    fmt.Println(all)  // ["123-4567", "890-1234"]
    
    // 5. æŸ¥æ‰¾ç´¢å¼•
    idx := re.FindStringIndex("ç”µè¯: 123-4567")
    fmt.Println(idx)  // [3 11]
    
    // 6. åˆ†ç»„åŒ¹é…
    re2 := regexp.MustCompile(`(\d{3})-(\d{4})`)
    groups := re2.FindStringSubmatch("123-4567")
    fmt.Println(groups)  // ["123-4567", "123", "4567"]
    
    // 7. æ›¿æ¢
    result := re.ReplaceAllString("ç”µè¯: 123-4567", "xxx-xxxx")
    fmt.Println(result)  // "ç”µè¯: xxx-xxxx"
    
    // 8. åˆ†å‰²
    re3 := regexp.MustCompile(`,\s*`)
    parts := re3.Split("a, b, c", -1)
    fmt.Println(parts)  // ["a", "b", "c"]
}
```

### Goç‰¹æœ‰æ³¨æ„äº‹é¡¹


```go
// 1. RE2å¼•æ“ç‰¹æ€§ï¼ˆæ— å›æº¯ï¼Œå®‰å…¨ä½†åŠŸèƒ½æœ‰é™ï¼‰
// ä¸æ”¯æŒçš„ç‰¹æ€§ï¼š
// - å›æº¯å¼•ç”¨ (\1, \2ç­‰)
// - å‘å‰å‘åæŸ¥æ‰¾
// - é€’å½’æ¨¡å¼
// - å æœ‰é‡è¯

// 2. æ€§èƒ½ä¼˜åŒ–
var (
    // å…¨å±€å˜é‡ï¼Œé¿å…é‡å¤ç¼–è¯‘
    phoneRegex = regexp.MustCompile(`\d{3}-\d{4}`)
    emailRegex = regexp.MustCompile(`^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$`)
)

// 3. å¤„ç†é”™è¯¯ï¼ˆç¼–è¯‘æ—¶ï¼‰
re, err := regexp.Compile(`invalid(`)
if err != nil {
    fmt.Println("æ­£åˆ™è¡¨è¾¾å¼é”™è¯¯:", err)
}

// 4. ç¼–è¯‘é€‰é¡¹
re := regexp.MustCompile(`(?i)hello`)  // å¿½ç•¥å¤§å°å†™
```

## å…«ã€Rust æ­£åˆ™è¡¨è¾¾å¼

### åŸºç¡€ä½¿ç”¨

`

```rust
use regex::Regex;

fn main() {
    // 1. åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼
    let re = Regex::new(r"\d{3}-\d{4}").unwrap();
    
    // 2. æ£€æŸ¥æ˜¯å¦åŒ¹é…
    assert!(re.is_match("ç”µè¯: 123-4567"));
    
    // 3. æŸ¥æ‰¾åŒ¹é…
    let text = "ç”µè¯: 123-4567";
    if let Some(mat) = re.find(text) {
        println!("æ‰¾åˆ°: {}", mat.as_str());  // "123-4567"
        println!("ä½ç½®: {}..{}", mat.start(), mat.end());  // "3..11"
    }
    
    // 4. æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…
    let text = "123-4567 890-1234";
    for mat in re.find_iter(text) {
        println!("{}", mat.as_str());
    }
    
    // 5. æ•è·åˆ†ç»„
    let re = Regex::new(r"(\d{3})-(\d{4})").unwrap();
    let caps = re.captures("123-4567").unwrap();
    println!("åŒºå·: {}", caps.get(1).unwrap().as_str());  // "123"
    println!("å·ç : {}", caps.get(2).unwrap().as_str());  // "4567"
    
    // 6. å‘½ååˆ†ç»„
    let re = Regex::new(r"(?P<area>\d{3})-(?P<num>\d{4})").unwrap();
    let caps = re.captures("123-4567").unwrap();
    println!("åŒºå·: {}", &caps["area"]);  // "123"
    println!("å·ç : {}", &caps["num"]);   // "4567"
    
    // 7. æ›¿æ¢
    let re = Regex::new(r"\d+").unwrap();
    let result = re.replace_all("abc123def456", "NUM");
    println!("{}", result);  // "abcNUMdefNUM"
    
    // 8. åˆ†å‰²
    let re = Regex::new(r",\s*").unwrap();
    let fields: Vec<&str> = re.split("a, b, c").collect();
    println!("{:?}", fields);  // ["a", "b", "c"]
}
```

### é«˜çº§åŠŸèƒ½


```rust
use regex::{Regex, RegexBuilder};

fn main() {
    // 1. æ„å»ºå™¨æ¨¡å¼ï¼ˆè®¾ç½®é€‰é¡¹ï¼‰
    let re = RegexBuilder::new(r"^hello")
        .case_insensitive(true)      // å¿½ç•¥å¤§å°å†™
        .multi_line(true)           // å¤šè¡Œæ¨¡å¼
        .dot_matches_new_line(true) // .åŒ¹é…æ¢è¡Œç¬¦
        .build()
        .unwrap();
    
    // 2. Unicodeæ”¯æŒ
    let re = Regex::new(r"\p{Script=Han}+").unwrap();
    assert!(re.is_match("ä¸­æ–‡æµ‹è¯•"));
    
    // 3. æ›¿æ¢å›è°ƒ
    let re = Regex::new(r"\d+").unwrap();
    let result = re.replace_all("a=1 b=2", |caps: &regex::Captures| {
        let num: i32 = caps[0].parse().unwrap();
        format!("{}", num * 2)
    });
    println!("{}", result);  // "a=2 b=4"
    
    // 4. è¿­ä»£æ•è·ç»„
    let re = Regex::new(r"(\w)=(\d+)").unwrap();
    let text = "a=1 b=2 c=3";
    
    for caps in re.captures_iter(text) {
        let name = &caps[1];
        let value: i32 = caps[2].parse().unwrap();
        println!("{} = {}", name, value);
    }
}
```

## ä¹ã€ä¸åŒè¯­è¨€å¯¹æ¯”è¡¨

### è¯­æ³•å·®å¼‚å¯¹æ¯”

| ç‰¹æ€§  | Python | JavaScript | Java | PHP | C#  | Go  | Rust |
| --- | --- | --- | --- | --- | --- | --- | --- |
| å­—é¢é‡ | `r"\d+"` | `/\\d+/` | `"\\d+"` | `'/\\d+/'` | `@"\d+"` | `` `\d+` `` | `r"\d+"` |
| å¿½ç•¥å¤§å°å†™ | `re.I` | `/pattern/i` | `Pattern.CASE_INSENSITIVE` | `/pattern/i` | `RegexOptions.IgnoreCase` | `(?i)pattern` | `RegexBuilder` |
| å¤šè¡Œæ¨¡å¼ | `re.M` | `/pattern/m` | `Pattern.MULTILINE` | `/pattern/m` | `RegexOptions.Multiline` | `(?m)pattern` | `.multi_line(true)` |
| ç‚¹å·åŒ¹é…æ¢è¡Œ | `re.S` | `/pattern/s` | `Pattern.DOTALL` | `/pattern/s` | `RegexOptions.Singleline` | `(?s)pattern` | `.dot_matches_new_line(true)` |
| å‘½ååˆ†ç»„ | `(?P<name>)` | `(?<name>)` | `(?<name>)` | `(?P<name>)` | `(?<name>)` | `(?P<name>)` | `(?P<name>)` |
| éæ•è·åˆ†ç»„ | `(?:)` | `(?:)` | `(?:)` | `(?:)` | `(?:)` | `(?:)` | `(?:)` |
| åè¡Œæ–­è¨€ | `(?<=)` | `(?<=)` | `(?<=)` | `(?<=)` | `(?<=)` | âŒ ä¸æ”¯æŒ | `(?<=)` |
| å›æº¯å¼•ç”¨ | `\1` | `\1` | `\1` | `\1` | `\1` | âŒ ä¸æ”¯æŒ | `\1` |

### æ€§èƒ½å’Œå®‰å…¨å»ºè®®

| è¯­è¨€  | æ¨èä½¿ç”¨åœºæ™¯ | æ³¨æ„äº‹é¡¹ |
| --- | --- | --- |
| Python | æ–‡æœ¬å¤„ç†ã€æ•°æ®åˆ†æ | é¢„ç¼–è¯‘é‡ç”¨æ¨¡å¼ï¼Œæ³¨æ„Unicode |
| JavaScript | å‰ç«¯éªŒè¯ã€æµè§ˆå™¨ | ä½¿ç”¨ES6+ç‰¹æ€§ï¼Œæ³¨æ„`lastIndex` |
| Java | åç«¯æœåŠ¡ã€ä¼ä¸šåº”ç”¨ | ä½¿ç”¨`Pattern.compile()`é‡ç”¨ |
| PHP | Webå¼€å‘ | ä½¿ç”¨`preg_*`å‡½æ•°ï¼Œæ³¨æ„UTF-8 |
| C#  | .NETåº”ç”¨ã€Windows | ä½¿ç”¨`RegexOptions.Compiled`ä¼˜åŒ– |
| Go  | é«˜æ€§èƒ½æœåŠ¡ã€CLIå·¥å…· | é¢„ç¼–è¯‘å…¨å±€å˜é‡ï¼Œæ³¨æ„RE2é™åˆ¶ |
| Rust | ç³»ç»Ÿç¼–ç¨‹ã€å®‰å…¨å…³é”® | ç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œæ³¨æ„æ‰€æœ‰æƒ |
