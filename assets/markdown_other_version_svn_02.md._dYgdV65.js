import{_ as i,c as a,o as n,a0 as t}from"./chunks/framework.zS86-xgI.js";const l="/note-operator/other/version/svn/076.png",p="/note-operator/other/version/svn/077.png",e="/note-operator/other/version/svn/078.png",h="/note-operator/other/version/svn/079.png",o="/note-operator/other/version/svn/080.png",r="/note-operator/other/version/svn/081.png",k="/note-operator/other/version/svn/082.png",c="/note-operator/other/version/svn/083.png",d="/note-operator/other/version/svn/084.png",g="/note-operator/other/version/svn/085.png",F="/note-operator/other/version/svn/086.png",y="/note-operator/other/version/svn/087.png",v="/note-operator/other/version/svn/088.png",m="/note-operator/other/version/svn/089.png",E="/note-operator/other/version/svn/090.png",u="/note-operator/other/version/svn/091.png",C="/note-operator/other/version/svn/092.png",b="/note-operator/other/version/svn/093.png",_="/note-operator/other/version/svn/094.png",B="/note-operator/other/version/svn/095.png",x="/note-operator/other/version/svn/096.png",f="/note-operator/other/version/svn/097.png",q="/note-operator/other/version/svn/098.png",A="/note-operator/other/version/svn/099.png",D="/note-operator/other/version/svn/100.png",P="/note-operator/other/version/svn/101.png",T="/note-operator/other/version/svn/102.png",w="/note-operator/other/version/svn/103.png",R="/note-operator/other/version/svn/104.png",S="/note-operator/other/version/svn/105.png",N="/note-operator/other/version/svn/106.png",V="/note-operator/other/version/svn/107.png",U="/note-operator/other/version/svn/108.png",O="/note-operator/other/version/svn/109.png",H="/note-operator/other/version/svn/110.png",M="/note-operator/other/version/svn/111.png",z="/note-operator/other/version/svn/112.png",W="/note-operator/other/version/svn/113.png",$="/note-operator/other/version/svn/114.png",G="/note-operator/other/version/svn/115.png",L="/note-operator/other/version/svn/116.png",I="/note-operator/other/version/svn/117.png",K="/note-operator/other/version/svn/118.png",J="/note-operator/other/version/svn/119.png",j="/note-operator/other/version/svn/120.png",Q="/note-operator/other/version/svn/121.png",X="/note-operator/other/version/svn/122.png",Y="/note-operator/other/version/svn/123.png",Z="/note-operator/other/version/svn/124.png",ss="/note-operator/other/version/svn/125.png",is="/note-operator/other/version/svn/126.png",as="/note-operator/other/version/svn/127.png",ns="/note-operator/other/version/svn/128.png",ts="/note-operator/other/version/svn/129.png",ls="/note-operator/other/version/svn/130.png",ps="/note-operator/other/version/svn/131.png",es="/note-operator/other/version/svn/132.png",hs="/note-operator/other/version/svn/133.png",os="/note-operator/other/version/svn/134.png",rs="/note-operator/other/version/svn/135.png",ks="/note-operator/other/version/svn/136.png",cs="/note-operator/other/version/svn/137.png",ds="/note-operator/other/version/svn/138.png",gs="/note-operator/other/version/svn/139.png",Fs="/note-operator/other/version/svn/140.png",ys="/note-operator/other/version/svn/141.png",vs="/note-operator/other/version/svn/142.png",ms="/note-operator/other/version/svn/143.png",Es="/note-operator/other/version/svn/144.png",us="/note-operator/other/version/svn/145.png",Cs="/note-operator/other/version/svn/146.png",bs="/note-operator/other/version/svn/147.png",_s="/note-operator/other/version/svn/148.png",Bs="/note-operator/other/version/svn/149.png",xs="/note-operator/other/version/svn/150.png",fs="/note-operator/other/version/svn/151.png",qs="/note-operator/other/version/svn/152.png",As="/note-operator/other/version/svn/153.png",Ds="/note-operator/other/version/svn/154.png",Ps="/note-operator/other/version/svn/155.png",Ts="/note-operator/other/version/svn/156.png",ws="/note-operator/other/version/svn/157.png",Rs="/note-operator/other/version/svn/158.png",Ss="/note-operator/other/version/svn/159.png",Ns="/note-operator/other/version/svn/160.png",Gs=JSON.parse('{"title":"二、TortoiseSVN （win客户端）","description":"","frontmatter":{},"headers":[],"relativePath":"markdown/other/version/svn/02.md","filePath":"markdown/other/version/svn/02.md"}'),Vs={name:"markdown/other/version/svn/02.md"};function Us(Os,s,Hs,Ms,zs,Ws){return n(),a("div",null,s[0]||(s[0]=[t('<h1 id="二、tortoisesvn-win客户端" tabindex="-1">二、TortoiseSVN （win客户端） <a class="header-anchor" href="#二、tortoisesvn-win客户端" aria-label="Permalink to &quot;二、TortoiseSVN （win客户端）&quot;">​</a></h1><h2 id="_2-1-下载" tabindex="-1">2.1 下载 <a class="header-anchor" href="#_2-1-下载" aria-label="Permalink to &quot;2.1 下载&quot;">​</a></h2><p>客户端软件地址：<a href="https://tortoisesvn.net/downloads.html" target="_blank" rel="noreferrer">https://tortoisesvn.net/downloads.html</a></p><ol><li>下载软件</li></ol><p>据自己的系统版本进行选择下载，Windows 64系统可选择 “ for 64-bit OS ”：</p><p><img src="'+l+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>下载中文包</li></ol><p><img src="'+p+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>下载的文件</li></ol><p><img src="'+e+'" alt="" data-fancybox="gallery"></p><h2 id="_2-2-安装" tabindex="-1">2.2 安装 <a class="header-anchor" href="#_2-2-安装" aria-label="Permalink to &quot;2.2 安装&quot;">​</a></h2><ol><li>双击安装包，点击Next</li></ol><p><img src="'+h+'" alt="" data-fancybox="gallery"></p><p><img src="'+o+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>配置信息</li></ol><ul><li>选择安装地址</li></ul><p><img src="'+r+'" alt="" data-fancybox="gallery"></p><ul><li>这项是否添加命令行</li></ul><p><img src="'+k+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>开始安装</li></ol><p><img src="'+c+'" alt="" data-fancybox="gallery"></p><p><img src="'+d+'" alt="" data-fancybox="gallery"></p><ol start="4"><li>是否重启后安装</li></ol><ul><li>选择yes</li></ul><p><img src="'+g+'" alt="" data-fancybox="gallery"></p><ul><li>否的话直接安装失败</li></ul><p><img src="'+F+'" alt="" data-fancybox="gallery"></p><ol start="5"><li>安装完成</li></ol><p><img src="'+y+'" alt="" data-fancybox="gallery"></p><ol start="6"><li>验证,右键出现svn选项</li></ol><p><img src="'+v+'" alt="" data-fancybox="gallery"></p><ol start="8"><li>双击语言包，点击下一步</li></ol><ul><li>开始安装</li></ul><p><img src="'+m+'" alt="" data-fancybox="gallery"></p><ul><li>勾选语言包生效</li></ul><p><img src="'+E+'" alt="" data-fancybox="gallery"></p><ol start="9"><li>测试命令行是否生效</li></ol><p><img src="'+u+'" alt="" data-fancybox="gallery"></p><h2 id="_2-3-图标信息" tabindex="-1">2.3 图标信息 <a class="header-anchor" href="#_2-3-图标信息" aria-label="Permalink to &quot;2.3 图标信息&quot;">​</a></h2><ul><li><p>常规图标</p><p>含义:当客户端文件与服务器文件完全同步时,系统显示以上图标</p><p><img src="'+C+'" alt="" data-fancybox="gallery"></p></li><li><p>冲突图标 含义;当客户端提交的文件与服务器端数据有冲突,会显示以上图标 <img src="'+b+'" alt="" data-fancybox="gallery"></p></li><li><p>删除图标</p><p>含义当服务器端的文件已删除,客户端的该文件会显示删除图标</p><p><img src="'+_+'" alt="" data-fancybox="gallery"></p></li><li><p>增加图标</p><p>含义:当我们新添加的文件已添加到上传队列,当文件会显示以上图标</p><p><img src="'+B+'" alt="" data-fancybox="gallery"></p></li><li><p>无版本控制图标</p><p>含义:当我们添加到文件,没有添加到上传队列时,该文件会显示以上图标</p><p><img src="'+x+'" alt="" data-fancybox="gallery"></p></li><li><p>修改图标</p><p>含义:当客户端修改文件,但是没有提交,会显示以上图标</p><p><img src="'+f+'" alt="" data-fancybox="gallery"></p></li><li><p>只读图标</p><p>含义:当客户端文件以只读形式存在,该文件显示以上图标</p><p><img src="'+q+'" alt="" data-fancybox="gallery"></p></li><li><p>锁定图标</p><p>含义:当服务器数据已锁定,那么客户端的文件显示锁定图标</p><p><img src="'+A+'" alt="" data-fancybox="gallery"></p></li><li><p>忽略图标</p><p>含义:客户端文件已忽略,不进行上传,那么该文件显示忽略图标</p><p><img src="'+D+'" alt="" data-fancybox="gallery"></p></li></ul><h2 id="_2-4-主要功能" tabindex="-1">2.4 主要功能 <a class="header-anchor" href="#_2-4-主要功能" aria-label="Permalink to &quot;2.4 主要功能&quot;">​</a></h2><p>svn 大概的基础操作</p><ul><li><p>检出(checkOut)</p><p>check out检出获得文件后，检出的文件仍处于SVN版本控制中，与版本库保持关联，比如你可以进行Svn Update或者Svn Commit操作。同时导出文件夹下有一个.svn的隐藏文件夹，存储着一些版本的元数据信息。（对于导入到服务器中的数据，需要检出才能形成一个受svn控制的工作拷贝，才可以进行 add update commit 等操作）</p></li><li><p>commit(提交)</p><p>将写完的代码提交到服务器</p></li><li><p>update(更新)</p><p>update是把服务器上最新的版本更新下来，比如别人上传的版本（一般提交之前需先更新，否则别人上传的新版本你没有更新下来就会被覆盖，别人上传的就丢失了）</p></li><li><p>add(添加)</p><p>add是把新创建的文件添加到缓存区（执行后显示一个加号），需commit提交才能真正上传到服务器（显示对号）</p></li><li><p>导出(export)</p><p>export 简单导出一个版本的数据（把服务器中的数据导出来，相当于复制一份），导出的文件脱离SVN版本控制（导出的就是一个文件，与svn版本没关系），导出后也无法进行Update和Commit操作。导出文件夹下没有.svn目录</p></li><li><p>导入(import)</p><p>import仅仅是把文件导入到svn服务器中，而这个文件本身还只是一个普通的文件，与svn版本库没有关系（导入时需要svn服务器的地址，可以从服务器复制下来，在Repositories下的版本库右击复制）</p></li></ul><h3 id="_2-4-1-检出操作-checkout" tabindex="-1">2.4.1 检出操作(Checkout) <a class="header-anchor" href="#_2-4-1-检出操作-checkout" aria-label="Permalink to &quot;2.4.1 检出操作(Checkout)&quot;">​</a></h3><ol><li>使用右键选择 checkout</li></ol><p><img src="'+P+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>填写仓库地址，与本地存放位置</li></ol><p><img src="'+T+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>选择接受第一项</li></ol><p><img src="'+w+'" alt="" data-fancybox="gallery"></p><ol start="4"><li>填写用户与密码</li></ol><p><img src="'+R+'" alt="" data-fancybox="gallery"></p><ol start="5"><li>选择库或者库底下的文件</li></ol><p><img src="'+S+'" alt="" data-fancybox="gallery"></p><ol start="6"><li>检出完成</li></ol><p><img src="'+N+`" alt="" data-fancybox="gallery"></p><blockquote><p>注意：如果要检出整个库放到指定目录下，而不是库中的文件放到目录下，需要的是</p></blockquote><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 连同库名一起放到磁盘目录下</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://192.168.18.35:8443/svn/storage01/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 将磁盘目录当成库位置，库名下面的文件都放入指定磁盘目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://192.168.18.35:8443/svn/storage01</span></span></code></pre></div><h3 id="_2-4-2-提交操作-commit" tabindex="-1">2.4.2 提交操作(Commit) <a class="header-anchor" href="#_2-4-2-提交操作-commit" aria-label="Permalink to &quot;2.4.2 提交操作(Commit)&quot;">​</a></h3><ol><li>新建文件</li></ol><p><img src="`+V+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>文件里写入内容</li></ol><p><img src="'+U+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>右键选择提交</li></ol><p><img src="'+O+'" alt="" data-fancybox="gallery"></p><ol start="4"><li>提交配置内容</li></ol><p><img src="'+H+'" alt="" data-fancybox="gallery"></p><ol start="5"><li>提交成功</li></ol><p><img src="'+M+'" alt="" data-fancybox="gallery"></p><h3 id="_2-4-3-更新操作-update" tabindex="-1">2.4.3 更新操作(Update) <a class="header-anchor" href="#_2-4-3-更新操作-update" aria-label="Permalink to &quot;2.4.3 更新操作(Update)&quot;">​</a></h3><ol><li>服务器上传了<code>测试文档2</code></li></ol><p><img src="'+z+'" alt="" data-fancybox="gallery"></p><hr><p><img src="'+W+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>右键选择更新</li></ol><p><img src="'+$+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>更新完成</li></ol><p><img src="'+G+'" alt="" data-fancybox="gallery"></p><ol start="4"><li>磁盘中显示</li></ol><p><img src="'+L+'" alt="" data-fancybox="gallery"></p><h3 id="_2-4-4-添加-add" tabindex="-1">2.4.4 添加(add) <a class="header-anchor" href="#_2-4-4-添加-add" aria-label="Permalink to &quot;2.4.4 添加(add)&quot;">​</a></h3><ol><li>新建<code>测试文档3</code></li></ol><p><img src="'+I+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>右键选择添加</li></ol><p><img src="'+K+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>添加的文件内容（只用于新文件）</li></ol><p><img src="'+J+'" alt="" data-fancybox="gallery"></p><ol start="4"><li>添加完成</li></ol><p><img src="'+j+'" alt="" data-fancybox="gallery"></p><h3 id="_2-4-4-导出-export" tabindex="-1">2.4.4 导出(export) <a class="header-anchor" href="#_2-4-4-导出-export" aria-label="Permalink to &quot;2.4.4 导出(export)&quot;">​</a></h3><ol><li>右键选择导出</li></ol><p><img src="'+Q+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>选择版本库以及导出到本地的位置</li></ol><p><img src="'+X+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>导出文件完成</li></ol><p><img src="'+Y+'" alt="" data-fancybox="gallery"></p><ol start="4"><li>查看磁盘上的文件，并没有出现svn标志</li></ol><p><img src="'+Z+'" alt="" data-fancybox="gallery"></p><h3 id="_2-4-5-导出-import" tabindex="-1">2.4.5 导出(import) <a class="header-anchor" href="#_2-4-5-导出-import" aria-label="Permalink to &quot;2.4.5 导出(import)&quot;">​</a></h3><ol><li>选择要导入的文件夹右键选择导入</li></ol><p><img src="'+ss+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>选版本库 填写导入信息</li></ol><p><img src="'+is+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>当前文件夹内容被导入</li></ol><p><img src="'+as+'" alt="" data-fancybox="gallery"></p><h2 id="_2-5-其他功能" tabindex="-1">2.5 其他功能 <a class="header-anchor" href="#_2-5-其他功能" aria-label="Permalink to &quot;2.5 其他功能&quot;">​</a></h2><h3 id="_2-5-1-忽略功能" tabindex="-1">2.5.1 忽略功能 <a class="header-anchor" href="#_2-5-1-忽略功能" aria-label="Permalink to &quot;2.5.1 忽略功能&quot;">​</a></h3><p>有些文件不希望上传至svn服务器，应该将该文件或该类型的文件添加至忽略列表</p><ol><li>忽略某个指定的文件</li></ol><p><img src="'+ns+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>忽略某类型文件</li></ol><p><img src="'+ts+'" alt="" data-fancybox="gallery"></p><h3 id="_2-5-2-版本回退" tabindex="-1">2.5.2 版本回退 <a class="header-anchor" href="#_2-5-2-版本回退" aria-label="Permalink to &quot;2.5.2 版本回退&quot;">​</a></h3><p>有些时候，软件的运行可能使开发者或使用者不满意，这时我们需要把当前版本退回到以前的某个版本。</p><ol><li>在项目空白处鼠标右键，采用如下图所示操作</li></ol><p><img src="'+ls+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>根据日志或者版本号进行版本回退</li></ol><p><img src="'+ps+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>根据日志信息选择要回退的状态</li></ol><p><img src="'+es+'" alt="" data-fancybox="gallery"></p><ol start="4"><li>自动会选到版本号</li></ol><p><img src="'+hs+'" alt="" data-fancybox="gallery"></p><ol start="5"><li>回退成功</li></ol><p><img src="'+os+'" alt="" data-fancybox="gallery"></p><h3 id="_2-5-3-版本冲突" tabindex="-1">2.5.3 版本冲突 <a class="header-anchor" href="#_2-5-3-版本冲突" aria-label="Permalink to &quot;2.5.3 版本冲突&quot;">​</a></h3><p>在实际项目开发中，如果两个人同时修改某个文件就会产生版本冲突问题。</p><p>点击commit的时候发现如下错误，有冲突，禁止提交</p><p><img src="'+rs+'" alt="" data-fancybox="gallery"></p><p>解决办法1</p><ol><li>update远程代码到本地</li></ol><p><img src="'+ks+'" alt="" data-fancybox="gallery"></p><ul><li>index.php ：整合后的index.php冲突文件</li><li>index.php.mine ：本地修改后的index.php文件</li><li>index.php.r6 ：index.php的起始文件（最初的）</li><li>index.php.r7 ：另外一位同事修改后的index.php文件</li></ul><ol start="2"><li>删除其他index.php文件，只保留整合后的index.php</li></ol><ul><li>打开index.php文件，手动将冲突解决</li><li>解决之后重新commit即可</li></ul><h3 id="_2-5-4-版本库浏览-repo-browser" tabindex="-1">2.5.4 版本库浏览(Repo-browser) <a class="header-anchor" href="#_2-5-4-版本库浏览-repo-browser" aria-label="Permalink to &quot;2.5.4 版本库浏览(Repo-browser)&quot;">​</a></h3><p>此功能是用来浏览需要查看的资料库，在本地文件夹下点击右键，选择TortoiseSVNàRepo-browser,在弹出的对话框中输入资料库地址，再输入用户名和密码，就能查看到你需要查看到版本库的内容，在这你还能看到那些文件被谁锁定了。</p><ol><li>开始查看版本库</li></ol><p><img src="'+cs+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>输入查看的版本库地址</li></ol><p><img src="'+ds+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>点击确定</li></ol><p><img src="'+gs+'" alt="" data-fancybox="gallery"></p><h2 id="_2-6-分支操作" tabindex="-1">2.6 分支操作 <a class="header-anchor" href="#_2-6-分支操作" aria-label="Permalink to &quot;2.6 分支操作&quot;">​</a></h2><h3 id="_2-6-1-背景" tabindex="-1">2.6.1 背景 <a class="header-anchor" href="#_2-6-1-背景" aria-label="Permalink to &quot;2.6.1 背景&quot;">​</a></h3><p><strong>项目中为何要创建分支，及合并？</strong></p><p>比如我现在项目所有的文件放在主干上(trunk)中，由于需求的变更，需要增加新的需求，但是我们主干上还要继续往下开发，在此我们可以新建一个分支，来做增加新的需求那一块，主干上继续开发，等分支上代码没有问题的时候，再合并到主干上来。</p><p>创建分支的最大的目的就是跟主线进行并行开发时候不影响主线的开发。</p><p><strong>如何操作？</strong> 假如我本地新建一个文件夹test下有2个文件夹trunk(存放主干上的代码)和branch(存放分支上的代码)，如下所示：</p><p><img src="'+Fs+'" alt="" data-fancybox="gallery"></p><h3 id="_2-6-2-提取主干上的代码" tabindex="-1">2.6.2 提取主干上的代码 <a class="header-anchor" href="#_2-6-2-提取主干上的代码" aria-label="Permalink to &quot;2.6.2 提取主干上的代码&quot;">​</a></h3><ol><li>点击trunk --&gt; 鼠标右键 --&gt; 点击SVN Checkout --&gt; 弹出一个对话框，如下图所示：</li></ol><p><img src="'+ys+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>最后点击上面的checkout按钮后，就可以在主干上把代码从远程服务器上获取到，如下所示：</li></ol><p><img src="'+vs+'" alt="" data-fancybox="gallery"></p><h3 id="_2-6-3-新建分支" tabindex="-1">2.6.3 新建分支 <a class="header-anchor" href="#_2-6-3-新建分支" aria-label="Permalink to &quot;2.6.3 新建分支&quot;">​</a></h3><ol><li><p>步骤</p><ul><li><p>1、在trunk上点击右键，在TortoiseSVN菜单中选择Branch/Tag;</p></li><li><p>2、 在To path输入框中输入新建分支的路径，一般是：/branches/分支名，也就是相当于分支保存的路径名;</p></li><li><p>3、在下面选择HEAD revision in the repository，为当前SVN中trunk目录下最新的代码建立分支，如果需要为制定的revision建立分支，可以进行选择;</p></li><li><p>4、点击OK分支建立完成。</p></li></ul></li><li><p>新建分支</p></li></ol><p><img src="'+ms+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>分支配置</li></ol><p><img src="'+Es+'" alt="" data-fancybox="gallery"></p><ol start="4"><li>创建完成</li></ol><p><img src="'+us+'" alt="" data-fancybox="gallery"></p><ol start="5"><li>查看分支</li></ol><p><img src="'+Cs+'" alt="" data-fancybox="gallery"></p><h3 id="_2-6-4-检出分支" tabindex="-1">2.6.4 检出分支 <a class="header-anchor" href="#_2-6-4-检出分支" aria-label="Permalink to &quot;2.6.4 检出分支&quot;">​</a></h3><ol><li>在trunk目录下检出</li></ol><p><img src="'+bs+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>将分支代码检出</li></ol><p><img src="'+_s+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>新建文件</li></ol><p><img src="'+Bs+'" alt="" data-fancybox="gallery"></p><ol start="4"><li>提交到分支上</li></ol><p><img src="'+xs+'" alt="" data-fancybox="gallery"></p><ol start="5"><li>版本库上查看</li></ol><p><img src="'+fs+'" alt="" data-fancybox="gallery"></p><h3 id="_2-6-4-合并分支到主干上" tabindex="-1">2.6.4 合并分支到主干上 <a class="header-anchor" href="#_2-6-4-合并分支到主干上" aria-label="Permalink to &quot;2.6.4 合并分支到主干上&quot;">​</a></h3><ol><li>点击合并（trunk目录）</li></ol><p><img src="'+qs+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>选择合并两个不同的库</li></ol><p><img src="'+As+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>分支路径与主干路径配置</li></ol><p><img src="'+Ds+'" alt="" data-fancybox="gallery"></p><ol start="4"><li>合并配置</li></ol><p><img src="'+Ps+'" alt="" data-fancybox="gallery"></p><ol start="5"><li>合并成功</li></ol><p><img src="'+Ts+'" alt="" data-fancybox="gallery"></p><ol start="6"><li>在 trunk 查找合并的文件</li></ol><p><img src="'+ws+'" alt="" data-fancybox="gallery"></p><h3 id="_2-6-5-合并主干到分支" tabindex="-1">2.6.5 合并主干到分支 <a class="header-anchor" href="#_2-6-5-合并主干到分支" aria-label="Permalink to &quot;2.6.5 合并主干到分支&quot;">​</a></h3><ol><li>上传代码到主干</li></ol><p><img src="'+Rs+'" alt="" data-fancybox="gallery"></p><ol start="2"><li>开始合并</li></ol><p><img src="'+Ss+'" alt="" data-fancybox="gallery"></p><ol start="3"><li>更新分支结果</li></ol><p><img src="'+Ns+`" alt="" data-fancybox="gallery"></p><h2 id="_2-7-svn的命令行" tabindex="-1">2.7 svn的命令行 <a class="header-anchor" href="#_2-7-svn的命令行" aria-label="Permalink to &quot;2.7 svn的命令行&quot;">​</a></h2><h3 id="_2-7-1-常用命令" tabindex="-1">2.7.1 常用命令 <a class="header-anchor" href="#_2-7-1-常用命令" aria-label="Permalink to &quot;2.7.1 常用命令&quot;">​</a></h3><ol><li>将文件checkout到本地目录</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> path（path是服务器上的目录）</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 例如：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svn://192.168.1.1/pro/domain</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 简写：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> co</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载指定版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svn://192.168.1.1/pro/domain</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --revision</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r543</span></span></code></pre></div><ol start="2"><li>往版本库中添加新的文件</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 例如：添加test.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.php</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加当前目录下所有的php文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.php</span></span></code></pre></div><ol start="3"><li>将改动的文件提交到版本库</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;LogMessage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-N] [--no-unlock] PATH</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果选择了保持锁，就使用–no-unlock开关</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 例如：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;add test file for my test&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.php</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 简写：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ci</span></span></code></pre></div><ol start="4"><li>加锁/解锁</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 加锁</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lock</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;LockMessage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--force] PATH</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#例如：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lock</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;lock test file&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.php</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 解锁 </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unlock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PATH</span></span></code></pre></div><ol start="5"><li>更新到某个版本</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> path</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#例如：</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#如果后面没有目录，默认将当前目录以及子目录下的所有文件都更新到最新版本。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 200</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.php</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 将版本库中的文件test.php还原到版本200</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.php</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#更新，于版本库同步。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#简写：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span></code></pre></div><blockquote><p>注：如果在提交的时候提示过期的话，是因为冲突，需要先update，修改 文件，然后清除svn resolved，最后再提交commit</p></blockquote><ol start="6"><li>查看文件或者目录状态</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 目录下的文件和子目录的状态，正常状态不显示</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> path</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 【?：不在svn的控制中；M：内容被修改；C：发生冲突；A：预定加入到版本库；K：被锁定】</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 显示文件和子目录状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> path</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#第一列保持相同，第二列显示工作版本号，第三和第四列显示最后一次修改的版本号和修改人。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 简写：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> st</span></span></code></pre></div><blockquote><p>注：svn status、svn diff和 svn revert这三条命令在没有网络的情况下也可以执行的，原因是svn在本地的.svn中保留了本地版本的原始拷贝。</p></blockquote><ol start="7"><li>删除 文件</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> path</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;delete test fle&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 例如：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svn://192.168.1.1/pro/domain/test.php</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;delete test file&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者 分两步走（推荐使用这种）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 第一步</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.php</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 第二步</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ci</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;delete test file&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 简写：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (del, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">remove,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ol start="8"><li>本地的修改成服务器状态</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> revert</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxxx_file</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> revert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx_file_dir</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> revert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span></span></code></pre></div><h3 id="_2-7-2-通过changelist只提交部分文件" tabindex="-1">2.7.2 通过changelist只提交部分文件 <a class="header-anchor" href="#_2-7-2-通过changelist只提交部分文件" aria-label="Permalink to &quot;2.7.2 通过changelist只提交部分文件&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> z_cl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> include/common/file_wrapper.h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> z_cl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src_code/iot/iot_param.c</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 移除文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src_code/iot/iot_param.c</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> st</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ci</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;xxxxx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> z_cl</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除整个changelist </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changelist</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remove</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --recursive</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> z_cl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><h3 id="_2-7-3-查看log" tabindex="-1">2.7.3 查看log <a class="header-anchor" href="#_2-7-3-查看log" aria-label="Permalink to &quot;2.7.3 查看log&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -l 显示版本个数</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -v 显示详细修改文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -g参数 显示其他分支合并过来的历史记录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -g [--use-merge-history] : 从合并历史使用/显示额外信息</span></span></code></pre></div><h3 id="_2-7-4-合并分支" tabindex="-1">2.7.4 合并分支 <a class="header-anchor" href="#_2-7-4-合并分支" aria-label="Permalink to &quot;2.7.4 合并分支&quot;">​</a></h3><ol><li>查询帮助</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span></span></code></pre></div><div class="language-log vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">log</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">merge: Merge changes into a working copy.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usage: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">. merge SOURCE[@REV] [TARGET_WCPATH]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          (the </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;complete&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> merge)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">. merge [-c M[,N...] | -r N:M ...] SOURCE[@REV] [TARGET_WCPATH]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          (the </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cherry-pick&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> merge)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">. merge SOURCE1[@REV1] SOURCE2[@REV2] [TARGET_WCPATH]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          (the </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2-URL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> merge)</span></span></code></pre></div><p>例如：将 bra_ipc 分支下的改到merge到ipc主分支下</p><ol><li>进入到ipc主分区所在目录</li><li>svn merge svn://192.168.1.10/home/devs/aaa svn://192.168.1.10/home/devs/bra_aaa</li><li>按照提示解决冲突</li><li>通过commit提交合并后的代码</li></ol><blockquote><p>说明：这里的svn merge source1 source2是需要在source1的分支下做，将source2改动合并到source1 这条命令和图形界面中的from source1 to source2一样；但是图形界面的from...to...不能理解为从...到...,而是 from为起始状态，to为最终状态，他们之间会做diff比较，之后将to的内容更新到from。</p></blockquote><ol start="2"><li>创建分支</li></ol><p>利用 merge 创建分支</p><ul><li>在本地 branch 创建分支节点</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test_dir</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test_dir</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> st</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;创建test文件夹&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者 svn commit -m &quot;create test 文件夹名&quot;</span></span></code></pre></div><ul><li>进 本地test_dir节点</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test_dir</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#merge主分支内容到当前分支（复制一份主干代码到分支上）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svn://192.168.1.10/home/devs/branch/xxx/test_dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svn://192.168.1.10/home/devs/trunk/aaa</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;创建xxx&#39;ipc&quot;</span></span></code></pre></div><blockquote><p>注意：为了防止开发过程中branch和trunk冲突太多， 所以要经常 merge trunk的内容到branch</p></blockquote><ol start="3"><li>合并修改的代码</li></ol><p>使用svn merge 合并修改的代码到trunk和上面创建分支的方法是一致的， 只是源和目的地反过来就行</p><ul><li>进入本地trunk的节点目录</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#更新到本地trunk的代码为最新的</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span></code></pre></div><p>merge自己分支的改动内容到本地 trunk；这里我是将 branch/xxx/code节点下的 676版本到677版本的改动 merge到本地 trunk</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 676:677</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svn://192.168.1.10/smart_home/devs/branch/xxx/code</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#可以使用svn st 和 svn diff 来确认修改的内容以及确保已经解决了冲突</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diff</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#提交改动到 trunk 服务器端</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;xxx&quot;</span></span></code></pre></div><h3 id="_2-7-5-出现冲突" tabindex="-1">2.7.5 出现冲突 <a class="header-anchor" href="#_2-7-5-出现冲突" aria-label="Permalink to &quot;2.7.5 出现冲突&quot;">​</a></h3><div class="language-log vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">log</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Select: (p) postpone, (df) diff-full, (e) edit,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (mc) mine-conflict, (tc) theirs-conflict,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (s) show all options: </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e)  edit             - change merged file in an editor               #直接进入编辑</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(df) diff-full        - show all changes made to merged file          #显示更改至目标文件的所有变化</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(r)  resolved         - accept merged version of file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dc) display-conflict - show all conflicts (ignoring merged version)  #显示所有冲突</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mc) mine-conflict    - accept my version for all conflicts (same)    #冲突以本地为准</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tc) theirs-conflict  - accept their version for all conflicts (same) #冲突以服务器为准</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mf) mine-full        - accept my version of entire file (even non-conflicts)#完全以本地为准</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tf) theirs-full      - accept their version of entire file (same)    #完全以服务器为准</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p)  postpone         - mark the conflict to be resolved later        #标记冲突，稍后解决</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(l)  launch           - launch external tool to resolve conflict</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s)  show all         - show this list</span></span></code></pre></div><p>一般选择使用 p 稍后解决冲突</p><p>比对文件，查看现在版本和新版本文件之间的不同，如果不相同则修改成最新的文件内容</p><p>之后解决完了再用下面语句（如果未解决并直接使用下面该命令会造成，文件状态和服务器的文件还是不一样，会显示该文件已经修改(文件状态为M)从而导致问题还在）</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resolve</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --accept</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> working</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxxxxx（C状态的的文件）</span></span></code></pre></div><h3 id="_2-7-6-版本回退" tabindex="-1">2.7.6 版本回退 <a class="header-anchor" href="#_2-7-6-版本回退" aria-label="Permalink to &quot;2.7.6 版本回退&quot;">​</a></h3><p><strong>方法1： 用svn merge</strong></p><ol><li>先 <code>svn up</code>，保证更新到最新的版本，如20；</li><li>然后用 <code>svn log</code> ，查看历史修改，找出要恢复的版本，如10 。如果想要更详细的了解情况，可以使用<code>svn diff -r 10:20</code> [文件或目录];</li><li>回滚到版本号10：<code>svn merge -r 20:10</code> [文件或目录]，注意版本号之间的顺序，这个叫反向合并；</li><li>查看当前工作版本中的文件，如test.cpp和版本号10中文件的差别：<code>svn diff -r 10 test.cpp</code>， 有差别则手动改之；</li><li>若无差别，则提交：<code>svn ci -m &quot;back to r 10，xxxxx&quot;</code> [文件或目录]。这时svn库中会生成新的版本，如21。</li></ol><p><strong>方法2: 用svn up</strong></p><p>前2步如方法1，然后直接 <code>svn up -r 10</code>。当前的工作版本就是版本10了。但是注意，这时svn库中并不会生成新的版本，下次<code>svn up</code>之后，还是会回到当前的版本。</p><p>例如：改动已经被提交（commit）用svn merge命令来进行回滚。</p><p>回滚的操作过程如下：</p><ol><li>保证我们拿到的是最新代码：</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre></div><p>假设最新版本号是28。 2. 然后找出要回滚的确切版本号：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span></span></code></pre></div><p>假设根据svn log日志查出要回滚的版本号是25，此处的something可以是文件、目录或整个项目 如果想要更详细的了解情况，可以使用<code>svn diff -r 28:25 &quot;&quot;</code></p><ol start="3"><li>回滚到版本号25：</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 28:25</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span></code></pre></div><p>为了保险起见，再次确认回滚的结果：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diff</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span></code></pre></div><p>发现正确无误，提交。</p><ol start="4"><li>提交回滚：</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Revert revision from r28 to r25,because of ...&quot;</span></span></code></pre></div><p>提交后版本变成了29。</p><h3 id="_2-7-7-设置文件属性" tabindex="-1">2.7.7 设置文件属性 <a class="header-anchor" href="#_2-7-7-设置文件属性" aria-label="Permalink to &quot;2.7.7 设置文件属性&quot;">​</a></h3><ol><li>设置只读属性</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> propset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svn:needs-lock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;x&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># x是需要提交的文件名</span></span></code></pre></div><ol start="2"><li>设置可执行属性</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> propset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svn:executable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.c</span></span></code></pre></div><ol start="3"><li>给当前目录下的所有文件设置可执行权限</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> propset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svn:executable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span></span></code></pre></div>`,271)]))}const Ls=i(Vs,[["render",Us]]);export{Gs as __pageData,Ls as default};
